
## 为每张表设置一个 ID  

我们应该为数据库里的每张表  都设置一个 ID 做为其主键，而且最好的是一个 INT 型的（推荐使用UNSIGNED），
并设置上自动增加的 AUTO_INCREMENT 标志。 

就算是你 users 表有一个主键叫 “email” 的字段，你也别让它成为主键。
使用 VARCHAR 类型 来当主键 会使得 性能下降。
另外，在你的程序中，你应该使用表的 ID 来构造你的数据结构。 


而且，在 MySQL 数据引擎下，还有一些操作 需要使用主键，在这些情况下，主键的性能和设置  变得非常重要，比如，集群，分区…… 

在这里，只有一个情况是例外，那就是 “关联表” 的 “外键”，
也就是说，这个表的主键，通过若干个 别的表 的主键构成。我们把这个情况叫做 “外键”。

比如：有一个 “学生表” 有学生的 ID，有一个 “课程表” 有课程ID，
那么，“成绩表” 就是 “关联表” 了，其关联了学生表和课程表，在成绩表中，学生 ID 和课程 ID 叫“外键”，其共同组成 主键。






## 使用 ENUM 而不是 VARCHAR  

ENUM 类型是 非常快和紧凑的。在实际上，其保存的是 TINYINT，但其外表上显示为字符串。

这样一来，用这个字段来做一些选项列表变得相当的完美。 

如果你有一个字段，比如 “性别”，“国家”，“民族”，“状态” 或 “部门”，你知道这些字段的取值 是有限而且固定的，
那么，你应该使用 ENUM 而不是 VARCHAR。 










## 为什么 MySQL 不推荐使用 uuid 作为主键

（1）增大了磁盘 IO。因为 uuid 不是自增的，所以有可能 需要 读 更多的索引页 去查找合适的位置。  
（2）插入耗时变长。因为 uuid 不是自增的，导致以 B+ 树 为基础的索引树 会在插入时，索引 节点 分裂的概率 更高。  
（3）内存碎片变多。根据（2）中说的，分裂的 越多，导致页 变得稀疏，最终导致数据 有碎片




## mysql 为什么经常有 vachar 定义长度为 255  

索引长度问题。  建立一个字段的普通索引 最大长度为 768 字节 = 255 * 3 = 767 + 2 长度字节  

varchar 存储长度 的 字段问题。mysql 的 varchar 可以超过 255，  
之所以默认 255，是因为，varchar 的第一个字节 存储了 字符串的长度，一个字节 8 位，可以表示 0～255，  
也就是说，如果你用 varchar(255)，只要一个字节 就能存储长度了。这是个分界线。  