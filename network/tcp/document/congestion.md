
## 如何实现拥塞控制？

TCP 一共使用了 四种算法 来实现 拥塞控制：  
1. 慢开始 (slow-start)； 
2. 拥塞避免 (congestion avoidance)；  
3. 快速重传 (fast retransmit)；  
4. 快速恢复 (fast recovery)。  


拥塞窗口 是 由 发送方 根据 网络状况 维护的一个变量，用于 控制 自己的数据 发送速率。   

拥塞控制   主要是
为了  在发生 网络拥堵 后   不进一步 触发 TCP 的 超时重传 进制  导致 进一步的网络拥堵 和 网络性能下降。   
所以 发送方  会自己 维护一个  拥堵窗口





**慢启动** 思路是  一开始 不要传输大量的数据，而是先试探网络中  的 拥堵程度   再去 逐渐 增加 拥塞窗口大小（一般是指数规律增长）。
**拥塞避免** 思路  也和 慢启动类似，只是按照  线性规律   去增加 拥堵窗口的大小。

而 慢启动 和 拥塞避免   一般会配合使用，有个 慢启动阈值，取值 是 在发生 拥塞时 的窗口的 一半大小。    
当小于 慢启动阈值 时   则使用 慢启动策略，大于  则使用 拥塞避免  策略。   当达到拥塞（超时）后，会把 拥塞窗口 重置为 1，   



但是超时的原因 不一定 是因为 网络拥塞，也有可以发送方 那一刻 刚好丢包了。所以就有了 快重传 和 慢启动 进行优化。   
**快重传**  指的是 使 发送方 尽快 重传 丢失报文，而不是 等超时。 避免 去触发 慢启动。

快重传 成功后，就会 执行 **快恢复** 算法，
一般是 将 慢启动阈值  和 拥塞窗口   都调整为   现有窗口的一半，
之后进行 拥塞避免 算法
